<div class="user-facing-container">
  <!-- Navigation Bar -->
  <nav class="nav-bar">
    <button class="nav-back-btn" (click)="goBack()">
      <app-icon name="arrow-left" [size]="16"></app-icon>
      <span>Back to Data Table</span>
    </button>
  </nav>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading-state">
    <p>Loading fund details...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error" class="error-state">
    <div class="error-content">
      <p class="error-text">{{ error }}</p>
      <button class="btn-primary" (click)="goBack()">Go Back</button>
    </div>
  </div>

  <!-- Fund Details -->
  <div *ngIf="!loading && fund" class="fund-details">
    <!-- Header Section -->
    <div class="fund-header">
      <div class="header-stats">
        <div class="stat-item stat-item-name">
          <span class="stat-label">Fund Name</span>
          <span class="stat-value stat-value-name">{{ fund.name }}</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Fund Size</span>
          <span class="stat-value">
            {{ fund.fundSize | number : "1.2-2" }} {{ fund.currency }}
          </span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Vintage Year</span>
          <span class="stat-value">{{ fund.vintage }}</span>
        </div>
      </div>
      <div class="header-actions" *ngIf="!loading && fund">
        <button
          class="action-btn action-edit"
          (click)="editFund()"
          title="Edit fund"
        >
          <app-icon name="pencil" [size]="14"></app-icon>
          <span>Edit</span>
        </button>
        <button
          class="action-btn action-delete"
          (click)="deleteFund()"
          title="Delete fund"
        >
          <app-icon name="trash" [size]="14"></app-icon>
          <span>Delete</span>
        </button>
      </div>
    </div>

    <!-- Content Section -->
    <div class="fund-content">
      <div class="content-grid">
        <!-- Left Column -->
        <div class="content-column">
          <div class="info-card">
            <h2 class="card-title">Investment Strategies</h2>
            <div class="tag-content">
              <app-tag-list
                [tags]="fund.strategies"
                type="strategy"
              ></app-tag-list>
            </div>
          </div>

          <div class="info-card">
            <h2 class="card-title">Geographies</h2>
            <div class="tag-content">
              <app-tag-list
                [tags]="fund.geographies"
                type="geography"
              ></app-tag-list>
            </div>
          </div>

          <div class="info-card">
            <h2 class="card-title">Fund Managers</h2>
            <div class="tag-content">
              <app-tag-list
                [tags]="fund.managers"
                type="manager"
              ></app-tag-list>
            </div>
          </div>
        </div>

        <!-- Right Column -->
        <div class="content-column">
          <div class="info-card">
            <h2 class="card-title">Description</h2>
            <div class="description-content">
              <p>{{ fund.description }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
